# 2-相关

## 相关系数
相关系数r衡量两组数据的相关性
范围为-1到1
1表示完全正相关, -1表示完全负相关
0表示独立, 既零相关

## 积差相关
### 使用积差相关数据的前提条件
1. 数据成对
2. 两个变量都是正态分布
3. 两个变量是连续变量
4. 两个变量之间关系是线性的

### 计算公式
离均差 
$x=X - \bar X$ 
$y=Y - \bar Y$

相关系数 $r = {\Sigma xy \over N s_x s_y}$
使用Z分数计算时, 相关系数 $r = {1 \over N} \cdot \Sigma Z_X Z_Y$

协方差 $\Sigma x y  \over N$

## 等级相关
### 斯皮尔曼等级相关
基础知识:
某个数据的等级序数$R_X$表示在样本中, 从小到大排列, 所占的位置
比如2, 4, 6, 8, 则2的等级序数为1, 4的为2
等级差数$D = R_X - R_Y$, 表示成对样本在各自集合中的等级序数的差

#### 适用性
数据要成对出现, 但可以不是正态分布

#### 计算公式
##### 等级差数法(N < 30)
$$r_R = 1 - {{6 \Sigma D^2} \over {N(N^2 - 1)} }$$
其中D为等级差数

##### 等级序数法
$$r_R = {3 \over N - 1} \cdot [ {4 \Sigma R_X R_Y \over N(N + 1)} - (N + 1)]$$

### 品质相关
#### Phi系数
![](_v_images/20191001172940616_1912952583.png =441x)

$$r_{\phi} = { ad - bc \over \sqrt { (a+b)(a+c)(b+d)(c+d) } }$$

对角相乘做减法, 相邻相加开根号

计算得到的Phi系数$r_{\phi}$, 在小于0.3时, 表示关系较弱, 当大于0.6时, 表示相关较强