# Emacs宏
## 录制宏
输入:`C-x (`
状态行上将出现Def字样, 表示进入宏定义模式
此时按下组合按键进行录制, 录制完毕后, 使用组合键`C-x )`结束录制
在录制过程中, `C-g`可以停止宏的录制

录制完毕后, 可以使用组合按键`C-x e`(命令是call-last-kbd-macro), 会将上次录制的宏重演一遍

## 保存宏
用上面的方法可以临时使用宏, 但不能长久保存
保存宏的方法:
在录制宏完成后, 可以使用`ESC x name-last-kbd-macro` 给宏起一个名字
使用宏的时候, 可以使用`ESC x name`即可

永久保存的方法:
`C-x C-f .emacs`打开emacs配置文件(也可以保存到其他文件中, 但执行时需要先加载)
把光标放在最后, 输入`ESC x insert-kbd-macro` 回车后输入宏名称, 再次回车即可, emacs会把这个宏的lisp代码插入此处
保存该文件即可

### 执行保存的宏
如果保存在`.emacs`中, 直接执行即可`ESC x macroname RETURN`
如果保存在其他文件中, 需要先执行`ESC x load-file 文件名`加载该宏文件, 再执行即可
